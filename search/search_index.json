{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to Mafia.gg API","text":"<p>You are looking at the documentation page of mafia.gg an online social deduction game</p>"},{"location":"#prerequisites","title":"Prerequisites","text":"<p>Inorder to get the most out of this documentation I expect you to have at a working knowledge in</p> <ul> <li>A programming language of your choice</li> <li>Websockets </li> </ul>"},{"location":"#introduction","title":"Introduction","text":"<p>The game communicates by two different protocoles, the HTTP and websockets. Most of the gameplay and chat happens through websockets while steps like authentication and room modifications happen over HTTP.</p>"},{"location":"authentication/","title":"Authentication","text":"<p>User authentication is done as POST request, we can simulate one in order to get the cookies. The cookies are then used to authenticate the rest of our requests. Almost every requests to the mafia gg api needs to be authenticated.</p> <p>Make a POST request to <code>https://mafia.gg/api/user-session</code></p> <p>with the payload</p> <pre><code>{\n    \"login\": \"Mafia.gg Username\",\n    \"password\": \"Mafia.gg password\"\n}\n</code></pre> <p>From this response save it's cookies</p>"}]}